{"version":3,"sources":["../../app-es6+/services/ImportarNegociacoes.js"],"names":["HttpService","Negociacao","ImportarNegociacoes","_http","negociacoes","get","map","objeto","Date","data","quantidade","valor","erro","console","log","Error","Promise","all","importNegociacoesSemana","importNegociacoesAnterior","importNegociacoesRetrasada","negociacao","reduce","flatArr","arr","concat"],"mappings":";;;;;;;;;;;;;;;;;;;AAAOA,MAAAA,W;;AACAC,MAAAA,U;;;yBAEcC,mB;AACnB,uCAAc;AAAA;;AACZ,eAAKC,KAAL,GAAa,IAAIH,WAAJ,EAAb;AACD;;;;;0EAE+B;AAC9B,kBAAI;AACF,sBAAMI,WAAW,SAAS,KAAKD,KAAL,CAAWE,GAAX,CAAe,oBAAf,CAA1B;AACA,uBAAOD,WAAW,CAACE,GAAZ,CACL,UAAAC,MAAM;AAAA,yBACN,IAAIN,UAAJ,CAAe,IAAIO,IAAJ,CAASD,MAAM,CAACE,IAAhB,CAAf,EAAsCF,MAAM,CAACG,UAA7C,EAAyDH,MAAM,CAACI,KAAhE,CADM;AAAA,iBADD,CAAP;AAID,eAND,CAME,OAAOC,IAAP,EAAa;AACbC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,sBAAM,IAAIG,KAAJ,CAAU,iDAAV,CAAN;AACD;AACF,a;;;;;;;;;;;4EAEiC;AAChC,kBAAI;AACF,sBAAMX,WAAW,SAAS,KAAKD,KAAL,CAAWE,GAAX,CAAe,sBAAf,CAA1B;AACA,uBAAOD,WAAW,CAACE,GAAZ,CACL,UAAAC,MAAM;AAAA,yBACN,IAAIN,UAAJ,CAAe,IAAIO,IAAJ,CAASD,MAAM,CAACE,IAAhB,CAAf,EAAsCF,MAAM,CAACG,UAA7C,EAAyDH,MAAM,CAACI,KAAhE,CADM;AAAA,iBADD,CAAP;AAID,eAND,CAME,OAAOC,IAAP,EAAa;AACbC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,sBAAM,IAAIG,KAAJ,CACJ,0DADI,CAAN;AAGD;AACF,a;;;;;;;;;;;6EAEkC;AACjC,kBAAI;AACF,sBAAMX,WAAW,SAAS,KAAKD,KAAL,CAAWE,GAAX,CAAe,uBAAf,CAA1B;AACA,uBAAOD,WAAW,CAACE,GAAZ,CACL,UAAAC,MAAM;AAAA,yBACN,IAAIN,UAAJ,CAAe,IAAIO,IAAJ,CAASD,MAAM,CAACE,IAAhB,CAAf,EAAsCF,MAAM,CAACG,UAA7C,EAAyDH,MAAM,CAACI,KAAhE,CADM;AAAA,iBADD,CAAP;AAID,eAND,CAME,OAAOC,IAAP,EAAa;AACbC,gBAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,sBAAM,IAAIG,KAAJ,CACJ,2DADI,CAAN;AAGD;AACF,a;;;;;;;;;;;mEAEwB;AACvB,kBAAI;AACF,sBAAMX,WAAW,SAASY,OAAO,CAACC,GAAR,CAAY,CACpC,KAAKC,uBAAL,EADoC,EAEpC,KAAKC,yBAAL,EAFoC,EAGpC,KAAKC,0BAAL,EAHoC,CAAZ,CAA1B;AAKA,sBAAMC,UAAU,GAAGjB,WAAW,CAACkB,MAAZ,CACjB,UAACC,OAAD,EAAUC,GAAV;AAAA,yBAAkBD,OAAO,CAACE,MAAR,CAAeD,GAAf,CAAlB;AAAA,iBADiB,EAEjB,EAFiB,CAAnB;AAIA,uBAAOH,UAAP;AACD,eAXD,CAWE,OAAOT,IAAP,EAAa;AACb,sBAAM,IAAIG,KAAJ,CAAUH,IAAV,CAAN;AACD;AACF,a","sourcesContent":["import HttpService from './HttpService.js'\nimport Negociacao from '../models/Negociacao.js'\n\nexport default class ImportarNegociacoes {\n  constructor() {\n    this._http = new HttpService();\n  }\n\n  async importNegociacoesSemana() {\n    try {\n      const negociacoes = await this._http.get('negociacoes/semana');\n      return negociacoes.map(\n        objeto =>\n        new Negociacao(new Date(objeto.data), objeto.quantidade, objeto.valor)\n      );\n    } catch (erro) {\n      console.log(erro);\n      throw new Error('Não foi possível obter as negociações da semana');\n    }\n  }\n\n  async importNegociacoesAnterior() {\n    try {\n      const negociacoes = await this._http.get('negociacoes/anterior');\n      return negociacoes.map(\n        objeto =>\n        new Negociacao(new Date(objeto.data), objeto.quantidade, objeto.valor)\n      );\n    } catch (erro) {\n      console.log(erro);\n      throw new Error(\n        'Não foi possível obter as negociações da semana anterior'\n      );\n    }\n  }\n\n  async importNegociacoesRetrasada() {\n    try {\n      const negociacoes = await this._http.get('negociacoes/retrasada');\n      return negociacoes.map(\n        objeto =>\n        new Negociacao(new Date(objeto.data), objeto.quantidade, objeto.valor)\n      );\n    } catch (erro) {\n      console.log(erro);\n      throw new Error(\n        'Não foi possível obter as negociações da semana retrasada'\n      );\n    }\n  }\n\n  async obterNegociacoes() {\n    try {\n      const negociacoes = await Promise.all([\n        this.importNegociacoesSemana(),\n        this.importNegociacoesAnterior(),\n        this.importNegociacoesRetrasada(),\n      ]);\n      const negociacao = negociacoes.reduce(\n        (flatArr, arr) => flatArr.concat(arr),\n        []\n      );\n      return negociacao;\n    } catch (erro) {\n      throw new Error(erro);\n    }\n  }\n}"],"file":"ImportarNegociacoes.js"}